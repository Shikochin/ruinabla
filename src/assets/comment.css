/*!
 * Giscus Comment Theme for Ruinabla
 * Adapted to match the "ruins" aesthetic with dark/light mode support
 */

/* Dark mode (default) */
main {
  /* Text colors using ruins dark palette */
  --color-prettylights-syntax-comment: #888888;
  --color-prettylights-syntax-constant: #ffffff;
  --color-prettylights-syntax-entity: #ffffff;
  --color-prettylights-syntax-storage-modifier-import: #e0e0e0;
  --color-prettylights-syntax-entity-tag: #6ea87f;
  --color-prettylights-syntax-keyword: #cf5555;
  --color-prettylights-syntax-string: #ffffff;
  --color-prettylights-syntax-variable: #d4b46a;
  --color-prettylights-syntax-brackethighlighter-unmatched: #cf5555;
  --color-prettylights-syntax-invalid-illegal-text: #e0e0e0;
  --color-prettylights-syntax-invalid-illegal-bg: #cf5555;
  --color-prettylights-syntax-markup-bold: #e0e0e0;
  --color-prettylights-syntax-markup-italic: #e0e0e0;

  /* Button colors */
  --color-btn-text: #e0e0e0;
  --color-btn-bg: transparent;
  --color-btn-border: rgba(255, 255, 255, 0.12);
  --color-btn-shadow: none;
  --color-btn-inset-shadow: none;
  --color-btn-hover-bg: rgba(255, 255, 255, 0.03);
  --color-btn-hover-border: #ffffff;
  --color-btn-active-bg: rgba(255, 255, 255, 0.05);
  --color-btn-active-border: #ffffff;
  --color-btn-selected-bg: rgba(255, 255, 255, 0.05);

  /* Primary button colors */
  --color-btn-primary-text: #050505;
  --color-btn-primary-bg: #ffffff;
  --color-btn-primary-border: #ffffff;
  --color-btn-primary-shadow: none;
  --color-btn-primary-inset-shadow: none;
  --color-btn-primary-hover-bg: #e0e0e0;
  --color-btn-primary-hover-border: #e0e0e0;
  --color-btn-primary-selected-bg: #ffffff;
  --color-btn-primary-selected-shadow: none;
  --color-btn-primary-disabled-text: #888888;
  --color-btn-primary-disabled-bg: rgba(255, 255, 255, 0.12);
  --color-btn-primary-disabled-border: rgba(255, 255, 255, 0.12);

  /* General UI colors */
  --color-action-list-item-default-hover-bg: rgba(255, 255, 255, 0.03);
  --color-segmented-control-bg: #0a0a0a;
  --color-segmented-control-button-bg: #050505;
  --color-segmented-control-button-selected-border: rgba(255, 255, 255, 0.12);

  --color-fg-default: #e0e0e0;
  --color-fg-muted: #888888;
  --color-fg-subtle: #888888;

  --color-canvas-default: #050505;
  --color-canvas-overlay: #0a0a0a;
  --color-canvas-inset: #050505;
  --color-canvas-subtle: #0a0a0a;

  --color-border-default: rgba(255, 255, 255, 0.12);
  --color-border-muted: rgba(255, 255, 255, 0.12);

  --color-neutral-muted: #888888;
  --color-accent-fg: #ffffff;
  --color-accent-emphasis: #ffffff;
  --color-accent-muted: #888888;
  --color-accent-subtle: rgba(255, 255, 255, 0.05);

  --color-success-fg: #6ea87f;
  --color-attention-fg: #d4b46a;
  --color-attention-muted: #d4b46a;
  --color-attention-subtle: rgba(212, 180, 106, 0.1);
  --color-danger-fg: #cf5555;
  --color-danger-muted: #cf5555;
  --color-danger-subtle: rgba(207, 85, 85, 0.1);

  --color-primer-shadow-inset: none;
  --color-scale-gray-7: #0a0a0a;
  --color-scale-blue-8: #ffffff;

  --color-social-reaction-bg-hover: rgba(255, 255, 255, 0.05);
  --color-social-reaction-bg-reacted-hover: rgba(255, 255, 255, 0.08);
}

/* Light mode overrides */
:root.light main {
  /* Text colors using ruins light palette */
  --color-prettylights-syntax-comment: #666666;
  --color-prettylights-syntax-constant: #000000;
  --color-prettylights-syntax-entity: #000000;
  --color-prettylights-syntax-storage-modifier-import: #2c2c2c;
  --color-prettylights-syntax-entity-tag: #6ea87f;
  --color-prettylights-syntax-keyword: #cf5555;
  --color-prettylights-syntax-string: #000000;
  --color-prettylights-syntax-variable: #d4b46a;
  --color-prettylights-syntax-brackethighlighter-unmatched: #cf5555;
  --color-prettylights-syntax-invalid-illegal-text: #2c2c2c;
  --color-prettylights-syntax-invalid-illegal-bg: #cf5555;
  --color-prettylights-syntax-markup-bold: #2c2c2c;
  --color-prettylights-syntax-markup-italic: #2c2c2c;

  /* Button colors */
  --color-btn-text: #2c2c2c;
  --color-btn-bg: transparent;
  --color-btn-border: rgba(0, 0, 0, 0.08);
  --color-btn-hover-bg: rgba(0, 0, 0, 0.03);
  --color-btn-hover-border: #000000;
  --color-btn-active-bg: rgba(0, 0, 0, 0.05);
  --color-btn-active-border: #000000;
  --color-btn-selected-bg: rgba(0, 0, 0, 0.05);

  /* Primary button colors */
  --color-btn-primary-text: #f5f5f0;
  --color-btn-primary-bg: #000000;
  --color-btn-primary-border: #000000;
  --color-btn-primary-hover-bg: #2c2c2c;
  --color-btn-primary-hover-border: #2c2c2c;
  --color-btn-primary-selected-bg: #000000;
  --color-btn-primary-disabled-text: #666666;
  --color-btn-primary-disabled-bg: rgba(0, 0, 0, 0.08);
  --color-btn-primary-disabled-border: rgba(0, 0, 0, 0.08);

  /* General UI colors */
  --color-action-list-item-default-hover-bg: rgba(0, 0, 0, 0.03);
  --color-segmented-control-bg: #ffffff;
  --color-segmented-control-button-bg: #f5f5f0;
  --color-segmented-control-button-selected-border: rgba(0, 0, 0, 0.08);

  --color-fg-default: #2c2c2c;
  --color-fg-muted: #666666;
  --color-fg-subtle: #666666;

  --color-canvas-default: #f5f5f0;
  --color-canvas-overlay: #ffffff;
  --color-canvas-inset: #f5f5f0;
  --color-canvas-subtle: #ffffff;

  --color-border-default: rgba(0, 0, 0, 0.08);
  --color-border-muted: rgba(0, 0, 0, 0.08);

  --color-neutral-muted: #666666;
  --color-accent-fg: #000000;
  --color-accent-emphasis: #000000;
  --color-accent-muted: #666666;
  --color-accent-subtle: rgba(0, 0, 0, 0.05);

  --color-success-fg: #6ea87f;
  --color-attention-fg: #d4b46a;
  --color-attention-muted: #d4b46a;
  --color-danger-fg: #cf5555;
  --color-danger-muted: #cf5555;

  --color-scale-gray-7: #ffffff;
  --color-scale-blue-8: #000000;

  --color-social-reaction-bg-hover: rgba(0, 0, 0, 0.05);
  --color-social-reaction-bg-reacted-hover: rgba(0, 0, 0, 0.08);
}

/* Loader images */
main .pagination-loader-container {
  background-image: url(https://github.com/images/modules/pulls/progressive-disclosure-line-dark.svg);
}

:root.light main .pagination-loader-container {
  background-image: url(https://github.com/images/modules/pulls/progressive-disclosure-line.svg);
}

main .gsc-loading-image {
  background-image: url(https://github.githubassets.com/images/mona-loading-dimmed.gif);
}

:root.light main .gsc-loading-image {
  background-image: url(https://github.githubassets.com/images/mona-loading-default.gif);
}

/*! Custom layout and styling */
.gsc-reactions-count {
  display: none;
}

.gsc-timeline {
  flex-direction: column-reverse;
}

.gsc-header {
  padding-bottom: 1rem;
  font-family: 'Space Grotesk', 'Courier New', monospace;
  letter-spacing: 0.05em;
}

.gsc-comments > .gsc-header {
  order: 1;
}

.gsc-comments > .gsc-comment-box {
  margin-bottom: 1rem;
  order: 2;
}

.gsc-comments > .gsc-timeline {
  order: 3;
}

.gsc-homepage-bg {
  background-color: #050505;
}

:root.light .gsc-homepage-bg {
  background-color: #f5f5f0;
}

/* Remove rounded corners to match ruins theme */
.gsc-comment-box,
.gsc-comment,
.gsc-reply,
.gsc-reply-box {
  border-radius: 0 !important;
  border: 1px solid rgba(255, 255, 255, 0.12) !important;
}

:root.light .gsc-comment-box,
:root.light .gsc-comment,
:root.light .gsc-reply,
:root.light .gsc-reply-box {
  border: 1px solid rgba(0, 0, 0, 0.08) !important;
}

/* Match button styling */
.gsc-comment-box-tabs button,
.gsc-comment-reactions button,
.gsc-social-reaction-summary-item {
  border-radius: 0 !important;
  font-family: 'Space Grotesk', 'Courier New', monospace;
  font-size: 0.85rem;
  letter-spacing: 0.05em;
}

/* Textarea styling */
.gsc-comment-box textarea {
  font-family:
    'Inter',
    system-ui,
    -apple-system,
    sans-serif;
  border-radius: 0 !important;
}

/* Code blocks */
.gsc-comment-content code,
.gsc-comment-content pre {
  font-family: 'Space Grotesk', 'Courier New', monospace;
  border-radius: 0 !important;
}
